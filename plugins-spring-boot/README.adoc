= Ultima Nexus - Spring Boot Module
:toc: preamble
:toclevels: 2

Spring Boot convention plugins for JVM projects.

== Overview

The `plugins-spring-boot` module provides Spring Boot development conventions:

* **Spring Boot Application/Library**: Explicit plugins for application or library mode
* **Spring Boot Test**: Pre-configured test dependencies
* **Bundles**: Pre-configured bundles for applications and libraries

All plugins support configuration via extension DSL or gradle.properties.

== Plugins

[cols="1,3"]
|===
|Plugin ID |Description

|`dev.daymor.ultimanexus.jvm.gradle.feature.spring-boot-application`
|Spring Boot application mode (bootJar, bootRun, fat JAR)

|`dev.daymor.ultimanexus.jvm.gradle.feature.spring-boot-library`
|Spring Boot library mode (dependency management, standard JAR)

|`dev.daymor.ultimanexus.jvm.gradle.dependency.spring-boot-test`
|Spring Boot test dependencies

|`dev.daymor.ultimanexus.jvm.gradle.bundle.spring-boot-simple-application`
|Simple Spring Boot application without quality checks

|`dev.daymor.ultimanexus.jvm.gradle.bundle.spring-boot-simple-library`
|Simple Spring Boot library without quality checks

|`dev.daymor.ultimanexus.jvm.gradle.bundle.spring-boot-complete-application`
|Complete Spring Boot application with quality checks

|`dev.daymor.ultimanexus.jvm.gradle.bundle.spring-boot-complete-library`
|Complete Spring Boot library with quality checks and publishing
|===

== Installation

Add to your version catalog (`gradle/libs.versions.toml`):

[source,toml]
----
[versions]
ultima-nexus-plugins = "latest.release"

[plugins]
ultimanexus-bundle-spring-boot-simple-application = { id = "dev.daymor.ultimanexus.jvm.gradle.bundle.spring-boot-simple-application", version.ref = "ultima-nexus-plugins" }
ultimanexus-bundle-spring-boot-simple-library = { id = "dev.daymor.ultimanexus.jvm.gradle.bundle.spring-boot-simple-library", version.ref = "ultima-nexus-plugins" }
ultimanexus-bundle-spring-boot-complete-application = { id = "dev.daymor.ultimanexus.jvm.gradle.bundle.spring-boot-complete-application", version.ref = "ultima-nexus-plugins" }
ultimanexus-bundle-spring-boot-complete-library = { id = "dev.daymor.ultimanexus.jvm.gradle.bundle.spring-boot-complete-library", version.ref = "ultima-nexus-plugins" }
----

== Spring Boot Complete Bundles

Full-featured Spring Boot development bundles with quality checks, testing, and reporting.

=== Spring Boot Complete Application

For standalone Spring Boot applications:

[source,kotlin]
----
plugins {
    alias(libs.plugins.ultimanexus.jvm.bundle.spring.boot.complete.application)
}
----

Includes:

* Base Gradle project conventions
* All quality checks, tests, and reports
* Java compilation and Javadoc
* Full Spring Boot plugin (`bootJar`, `bootRun`)
* Spring Boot DevTools for development
* JSpecify nullability annotations

=== Spring Boot Complete Library

For Spring Boot starters and shared libraries:

[source,kotlin]
----
plugins {
    alias(libs.plugins.ultimanexus.jvm.bundle.spring.boot.complete.library)
}
----

Includes:

* Everything in application bundle (except bootJar/bootRun)
* Spring Dependency Management (without full Spring Boot plugin)
* Maven Central publishing with sources and Javadoc JARs

=== Mode Comparison

[cols="1,2,1,1,2"]
|===
|Bundle |JAR Type |bootJar |Publishing |Use Case

|`spring-boot-complete-application`
|Executable fat JAR
|Enabled
|Not included
|Standalone Spring Boot apps

|`spring-boot-complete-library`
|Standard JAR
|Disabled
|Included
|Shared libraries, starters
|===

== Spring Boot Simple Bundles

Minimal Spring Boot setup without quality checks.

=== Spring Boot Simple Application

[source,kotlin]
----
plugins {
    alias(libs.plugins.ultimanexus.jvm.bundle.spring.boot.simple.application)
}
----

=== Spring Boot Simple Library

[source,kotlin]
----
plugins {
    alias(libs.plugins.ultimanexus.jvm.bundle.spring.boot.simple.library)
}
----

=== Includes

* Java simple bundle (application or library)
* Spring Boot application or library plugin
* Spring Boot test dependencies

== Spring Boot Application Plugin

Full Spring Boot support for executable applications.

=== Usage

[source,kotlin]
----
plugins {
    alias(libs.plugins.ultimanexus.jvm.feature.spring.boot.application)
}
----

=== Features

* Enables `bootJar` and `bootRun` tasks
* Creates executable fat JAR
* Configures `productionRuntimeClasspath` and `developmentOnly` configurations
* Adds Spring Boot DevTools

== Spring Boot Library Plugin

Spring Boot dependency management for libraries and starters.

=== Usage

[source,kotlin]
----
plugins {
    alias(libs.plugins.ultimanexus.jvm.feature.spring.boot.library)
}
----

=== Features

* Spring Dependency Management (without full Spring Boot plugin)
* Creates standard JAR (no bootJar)
* `java-library` plugin for API/implementation separation

== Spring Boot Test Dependencies Plugin

Adds common Spring Boot test dependencies.

=== Usage

[source,kotlin]
----
plugins {
    alias(libs.plugins.ultimanexus.jvm.dependency.spring.boot.test)
}
----

=== What It Does

Adds the following test dependencies:

* `spring-boot-starter-test` - Spring Boot test starter
* JSR-305 annotations (compile-only)

== Properties Reference

No configuration properties required - use the appropriate plugin for your project type.

== Running Common Tasks

[source,bash]
----
# Run Spring Boot application (application mode only)
./gradlew bootRun

# Build executable JAR (application mode only)
./gradlew bootJar

# Build standard JAR (library mode)
./gradlew jar

# Run quality checks
./gradlew qualityCheck

# Run all tests
./gradlew allTest
----

== Spring Boot Version

The Spring Boot version is managed by your version catalog. Add to `gradle/libs.versions.toml`:

[source,toml]
----
[versions]
spring-boot = "4.0.1"

[plugins]
spring-boot = { id = "org.springframework.boot", version.ref = "spring-boot" }

[libraries]
spring-boot-devtools = { module = "org.springframework.boot:spring-boot-devtools", version.ref = "spring-boot" }
spring-boot-starter-test = { module = "org.springframework.boot:spring-boot-starter-test", version.ref = "spring-boot" }
----

== Related Modules

* link:../plugins-java/README.adoc[plugins-java] - Java conventions (used by spring-boot-simple)
* link:../plugins-base/README.adoc[plugins-base] - Base Gradle project conventions
* link:../plugins-check/README.adoc[plugins-check] - Quality checks (used by spring-boot-complete)
* link:../plugins-test/README.adoc[plugins-test] - Testing infrastructure (used by spring-boot-complete)
* link:../plugins-lombok/README.adoc[plugins-lombok] - Lombok support
* link:../plugins-misc/README.adoc[plugins-misc] - Full `ultima-nexus-jvm` bundle (Spring Boot + Lombok)
* link:../README.adoc[Root README] - Project overview and quick start
